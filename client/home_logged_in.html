<!DOCTYPE html>
<html>

<head>

    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="CSS/logged_in_home.css">
    <title>Home</title>
</head>

<body>
    <div class="background">
        <div class="topnav">
            <div class="logo"><img src="Images/acorn.png" alt="Acorn Logo" width="40" height="40">
                <p class="push">Acorn Nursery</p>
            </div>
            <a class="active" href="home_logged_in.html">Home</a>
            <a href="sponsor_page.html">Sponsor Project</a>
            <a href="find_project.html">Find Project</a>
            <a href="about_us.html">Sign Out</a>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


        <div class="main_container flex-column">
            <div class="center">
                <h2>Your Current Projects</h2>
                <table class="table table-test table-striped">
                    <tr class="bg-info">
                        <th data-colname="title" data-order="desc">Title &#9650</th>
                        <th data-colname="description" data-order="desc">Description</th>
                        <th data-colname="date" data-order="desc">Date &#9650</th>
                        <th data-colname="catagory" data-order="desc">Catagory &#9650</th>
                    </tr>
                    <tbody id="myTable">
                    </tbody>
                </table>
            </div>
        </div>


        <script>
            var myArray = [{
                    'title': 'Android',
                    'description': 'story',
                    'date': '11/10/1989',
                    'catagory': 'Web'
                },
                {
                    'title': 'Acorn Nursery',
                    'description': 'story',
                    'date': '10/1/1989',
                    'catagory': 'Web'
                },
                {
                    'title': 'IBM',
                    'description': 'story',
                    'date': '10/14/1990',
                    'catagory': 'Mobile'
                },
                {
                    'title': 'Acorn currency',
                    'description': 'story',
                    'date': '11/29/1993',
                    'catagory': 'Mobile'
                },
                {
                    'title': 'To the top',
                    'description': 'story',
                    'date': '3/12/1991',
                    'catagory': 'OS'
                },
                {
                    'title': 'Side loader',
                    'description': 'story',
                    'date': '10/31/1995',
                    'catagory': 'Web'
                },
                {
                    'title': 'Side loader',
                    'description': 'story',
                    'date': '10/31/1995',
                    'catagory': 'OS'
                },
                {
                    'title': 'Side loader',
                    'description': 'story',
                    'date': '10/31/1995',
                    'catagory': 'OS'
                },
            ]

            buildTable(myArray)

            $('th').on('click', function () {
                var column = $(this).data('colname')
                var order = $(this).data('order')
                var text = $(this).html()
                text = text.substring(0, text.length - 1);



                if (order == 'desc') {
                    myArray = myArray.sort((a, b) => a[column] > b[column] ? 1 : -1)
                    $(this).data("order", "asc");
                    text += '&#9660'
                } else {
                    myArray = myArray.sort((a, b) => a[column] < b[column] ? 1 : -1)
                    $(this).data("order", "desc");
                    text += '&#9650'
                }

                $(this).html(text)
                buildTable(myArray)
            })


            function buildTable(data) {
                var table = document.getElementById('myTable')
                table.innerHTML = ''
                for (var i = 0; i < data.length; i++) {
                    var coltitle = `title-${i}`
                    var coldescription = `description-${i}`
                    var coldate = `date-${i}`
                    var colcatagory = `catagory-${i}`

                    var row = `<tr>
                                <td>${data[i].title}</td>
                                <td>${data[i].description}</td>
                                <td>${data[i].date}</td>
                                <td>${data[i].catagory}</td>
                           </tr>`
                    table.innerHTML += row
                }
            }
        </script>

</body>

</html>